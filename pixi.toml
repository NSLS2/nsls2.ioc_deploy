[project]
authors = ["Jakub Wlodek"]
channels = ["conda-forge"]
description = "Collection of ansible roles to perform centralized IOC deployments"
name = "nsls2.ioc_deploy"
platforms = ["linux-64", "osx-64", "osx-arm64"]
version = "1.2.0"

[environments]
default = { solve-group = "default" }

[tasks]
make-role = "scripts/manage_collection.py add role"
make-module = "scripts/manage_collection.py add module"
update-module = "scripts/manage_collection.py update module"
delete-role = "scripts/manage_collection.py delete role"
delete-module = "scripts/manage_collection.py delete module"
report = "scripts/manage_collection.py report"
lint-changes = "pre-commit"
lint = "pre-commit run --all-files"
ruff-fix = "ruff check --fix"
tests = "pytest"
deployment = "scripts/deploy_local_config.py"
deploy-all = "scripts/deploy_local_config.py --all --container --matrix 8 9"

# Package should not be in pixi lock file, but instead manually installed when on NSLS2 systems
install-nsls2network = "pip install --upgrade git+https://github.com/NSLS2/nsls2network"

[build-dependencies]
make = "*"

[dependencies]
requests = "*"
tabulate = "*"
questionary = "*"
yamale = "*"
pre-commit = "*"
ruff = "*"
import-linter = "*"
pip = "*"
pytest = "*"
pyyaml = "*"
yamllint = "*"

ansible = "*"
ansible-compat = "==24.10.0"
ansible-core = "==2.15.5"
ansible-lint = "==6.22.2"
